# Приспособленец/Легковес (Flyweight)

Структурный шаблон проектирования, при котором объект,
представляющий себя как уникальный экземпляр в разных местах программы,
по факту не является таковым. Позволяет вместить бóльшее количество объектов
в отведённую оперативную память. Приспособленец экономит память,
разделяя общее состояние объектов между собой, вместо хранения
одинаковых данных в каждом объекте.

Шаблон проектирования "Приспособленец" предполагает:

- Определение класса приспособленца (должен содержать внутреннее состояние,
  которое повторяется во множестве объектов, а так же должен уметь принимать
  уникальное состояние - внешнее)
- Определение класса контекста, который принимает уникальное состояние и
  получает ссылку на конкретный объект-приспособленец в зависимости от
  повторяющегося состояния. В данном случае, бизнес-логика содержится либо в
  приспособленце, который получает уникальное состояние от контекста, либо
  в контексте (реже), который будет использовать приспособленца как объект
  данных
- Определение фабрики приспособленцев, которой будут поступать запросы на
  получение ссылки на объект-приспособленец с нужным состоянием. Если такой
  объект уже есть - фабрика сразу выдаст ссылку, если нет - создаст нужный
  объект и вернёт ссылку на него

## Когда использовать

- Когда программа использует большое количество объектов, которые без сложных
  оптимизаций не умещаются в отведённую оперативную память и при этом имеют
  внутри себя повторяющуюся порцию данных

## UML диаграмма

![UML диаграмма приспособленца](https://github.com/evgenylyozin/patterns/blob/47c4ed4d5c1fef6d18a457ade7650f40b07b5f28/docs/oop-patterns/uml-diagrams/flyweight.png)

[Что такое UML диаграммы](https://github.com/evgenylyozin/patterns/blob/6bd4dee6b7186d8703f4f3d8f852e72d185ae545/docs/diagram.md)

## Дополнительная информация

[Приспособленец - статья на Вики](<https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B8%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1%D0%BB%D0%B5%D0%BD%D0%B5%D1%86_(%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD_%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F)>)
